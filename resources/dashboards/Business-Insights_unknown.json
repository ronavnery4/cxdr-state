{
  "id": "unknown",
  "name": "Business-Insights",
  "exported_at": "2025-12-18T05:48:28.553045",
  "data": {
    "id": "IouJPhEsaDQv0OjOZ5TKS",
    "name": "Business-Insights",
    "description": null,
    "layout": {
      "sections": [
        {
          "id": {
            "value": "d010f358-798e-4665-9770-636dacdfb7ef"
          },
          "rows": [
            {
              "id": {
                "value": "6705fe72-f44a-48bc-a12b-5f4d62aa0219"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "da813d1c-05e7-48c5-b79e-ccedf47e381d"
                  },
                  "title": "Income Vs Lost Income",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [
                          "LEGEND_COLUMN_SUM",
                          "LEGEND_COLUMN_AVG"
                        ],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_SIDE"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "bc381baf-7e85-4921-8153-8324e216ee40",
                          "query": {
                            "dataprime": {
                              "dataprimeQuery": {
                                "text": "source logs\n| filter $l.subsystemname == 'paymentservice' \n| filter body ~ 'InvalidCreditCard' || pay_transaction.amount:num > 0\n| create Trans_usd from \n  case_equals {\n        pay_transaction.currency,\n        'USD'   -> pay_transaction.amount:num * 1,\n        'EUR'   -> pay_transaction.amount:num * 1.04,\n        'JPY'   -> pay_transaction.amount:num * 0.0066,\n        'CAD'   -> pay_transaction.amount:num * 0.69}\n| groupby $m.timestamp / 15m as Time aggregate \n        count_if($m.severity != ERROR) as Successfull_Transactions, \n        count_if(body ~ 'InvalidCreditCard') as Err_Transactions,  \n        round(sum(Trans_usd),2) as Total_Revenue, \n        round(avg(Trans_usd),2) as Avg_Revenue\n| create Lost_Revenue from round(Avg_Revenue*Err_Transactions,2)\n| choose Time,Total_Revenue, Lost_Revenue"
                              },
                              "filters": [],
                              "timeFrame": null
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_USD",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query",
                          "isVisible": true,
                          "colorScheme": "classic",
                          "resolution": null,
                          "dataModeType": "DATA_MODE_TYPE_ARCHIVE",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": false
                        }
                      ],
                      "stackedLine": "STACKED_LINE_ABSOLUTE",
                      "connectNulls": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "23d0a806-b20c-4d69-b302-92410cd9fd0d"
                  },
                  "title": "Lost Revenue Percentage",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [
                          "LEGEND_COLUMN_MIN",
                          "LEGEND_COLUMN_MAX",
                          "LEGEND_COLUMN_AVG",
                          "LEGEND_COLUMN_LAST"
                        ],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_SIDE"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "3b62fe99-3bbf-4883-8130-25510f8f7ee6",
                          "query": {
                            "dataprime": {
                              "dataprimeQuery": {
                                "text": "source logs\n| filter $l.subsystemname == 'paymentservice' \n| filter body ~ 'InvalidCreditCard' || pay_transaction.amount:num > 0\n| create Trans_usd from \n  case_equals {\n        pay_transaction.currency,\n        'USD'   -> pay_transaction.amount:num * 1,\n        'EUR'   -> pay_transaction.amount:num * 1.04,\n        'JPY'   -> pay_transaction.amount:num * 0.0066,\n        'CAD'   -> pay_transaction.amount:num * 0.69}\n| groupby $m.timestamp / 15m as Time aggregate \n        count_if($m.severity != ERROR) as Successfull_Transactions, \n        count_if(body ~ 'InvalidCreditCard') as Err_Transactions,  \n        round(sum(Trans_usd),2) as Total_Revenue, \n        round(avg(Trans_usd),2) as Avg_Revenue\n| create Lost_Revenue from round(Avg_Revenue*Err_Transactions,2)\n| create Err_Pct from Lost_Revenue/(Lost_Revenue+Total_Revenue)\n| choose Time,Err_Pct"
                              },
                              "filters": [],
                              "timeFrame": null
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_PERCENT_ZERO_ONE",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query",
                          "isVisible": true,
                          "colorScheme": "negative",
                          "resolution": null,
                          "dataModeType": "DATA_MODE_TYPE_ARCHIVE",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": false
                        }
                      ],
                      "stackedLine": "STACKED_LINE_ABSOLUTE",
                      "connectNulls": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            }
          ],
          "options": {
            "custom": {
              "name": "Lost Revenue",
              "description": null,
              "collapsed": true,
              "color": {
                "predefined": "SECTION_PREDEFINED_COLOR_GREEN"
              },
              "repetitiveVar": null
            }
          }
        },
        {
          "id": {
            "value": "163c0594-d99c-4e9d-8523-2ad6d611fc09"
          },
          "rows": [
            {
              "id": {
                "value": "19d60cf1-c92f-42f0-a25d-95a2aa9aee48"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "820fb79a-a81f-4094-9026-78d514a793bf"
                  },
                  "title": "Duration-P99",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "f758c2c8-1fbb-409a-bcb1-fa9b38b3a36b",
                          "query": {
                            "spans": {
                              "luceneQuery": {
                                "value": "serviceName:\"paymentservice\""
                              },
                              "groupBy": [],
                              "aggregations": [
                                {
                                  "metricAggregation": {
                                    "metricField": "METRIC_FIELD_DURATION",
                                    "aggregationType": "METRIC_AGGREGATION_TYPE_PERCENTILE_99"
                                  }
                                }
                              ],
                              "filters": [],
                              "timeFrame": null,
                              "groupBys": [
                                {
                                  "keypath": [
                                    "servicename"
                                  ],
                                  "scope": "DATASET_SCOPE_LABEL",
                                  "relationType": "SPAN_RELATION_TYPE_NONE_UNSPECIFIED"
                                }
                              ]
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_MILLISECONDS",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query 1",
                          "isVisible": true,
                          "colorScheme": "negative",
                          "resolution": {
                            "interval": null,
                            "bucketsPresented": 96
                          },
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": false
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "4564a679-e10f-4f4b-9193-ffafa68c9f14"
                  },
                  "title": "Duration-P95",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "4bf07c0b-19b6-4ebe-9cff-7921dacd7128",
                          "query": {
                            "spans": {
                              "luceneQuery": {
                                "value": "serviceName:\"paymentservice\""
                              },
                              "groupBy": [],
                              "aggregations": [
                                {
                                  "metricAggregation": {
                                    "metricField": "METRIC_FIELD_DURATION",
                                    "aggregationType": "METRIC_AGGREGATION_TYPE_PERCENTILE_95"
                                  }
                                }
                              ],
                              "filters": [],
                              "timeFrame": null,
                              "groupBys": [
                                {
                                  "keypath": [
                                    "servicename"
                                  ],
                                  "scope": "DATASET_SCOPE_LABEL",
                                  "relationType": "SPAN_RELATION_TYPE_NONE_UNSPECIFIED"
                                }
                              ]
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_MILLISECONDS",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query 1",
                          "isVisible": true,
                          "colorScheme": "cold",
                          "resolution": {
                            "interval": null,
                            "bucketsPresented": 96
                          },
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": false
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "9aed9106-a641-4a7e-883b-e7d89582dd89"
                  },
                  "title": "Duration-P50",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "41f29ebf-6a82-4ff3-8b6c-5e006cafe303",
                          "query": {
                            "spans": {
                              "luceneQuery": {
                                "value": "serviceName:\"paymentservice\""
                              },
                              "groupBy": [],
                              "aggregations": [
                                {
                                  "metricAggregation": {
                                    "metricField": "METRIC_FIELD_DURATION",
                                    "aggregationType": "METRIC_AGGREGATION_TYPE_PERCENTILE_50"
                                  }
                                }
                              ],
                              "filters": [],
                              "timeFrame": null,
                              "groupBys": [
                                {
                                  "keypath": [
                                    "servicename"
                                  ],
                                  "scope": "DATASET_SCOPE_LABEL",
                                  "relationType": "SPAN_RELATION_TYPE_NONE_UNSPECIFIED"
                                }
                              ]
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_MILLISECONDS",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query 1",
                          "isVisible": true,
                          "colorScheme": "severity",
                          "resolution": {
                            "interval": null,
                            "bucketsPresented": 96
                          },
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": false
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            }
          ],
          "options": {
            "custom": {
              "name": "Latency",
              "description": null,
              "collapsed": true,
              "color": {
                "predefined": "SECTION_PREDEFINED_COLOR_UNSPECIFIED"
              },
              "repetitiveVar": null
            }
          }
        },
        {
          "id": {
            "value": "8a2ca17f-2f72-4d65-8558-4f7854de1da1"
          },
          "rows": [
            {
              "id": {
                "value": "c026b497-d20a-472a-8dfd-e19b8a95d9c8"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "942a73fd-67fa-428a-96d2-ad7cfe5d35ba"
                  },
                  "title": "HTTP 400 - 499 Errored Transactions",
                  "description": null,
                  "definition": {
                    "dataTable": {
                      "query": {
                        "spans": {
                          "luceneQuery": {
                            "value": "serviceName:\"paymentservice\""
                          },
                          "filters": [
                            {
                              "field": null,
                              "operator": {
                                "equals": {
                                  "selection": {
                                    "list": {
                                      "values": [
                                        "ERROR"
                                      ]
                                    }
                                  }
                                }
                              },
                              "observationField": {
                                "keypath": [
                                  "tags",
                                  "otel.status_code"
                                ],
                                "scope": "DATASET_SCOPE_USER_DATA",
                                "relationType": "SPAN_RELATION_TYPE_NONE_UNSPECIFIED"
                              }
                            }
                          ],
                          "grouping": null,
                          "timeFrame": null
                        }
                      },
                      "resultsPerPage": 100,
                      "rowStyle": "ROW_STYLE_UNSPECIFIED",
                      "columns": [
                        {
                          "field": "startTime",
                          "width": 200
                        },
                        {
                          "field": "operationName",
                          "width": null
                        },
                        {
                          "field": "tags.otel.status_code",
                          "width": null
                        },
                        {
                          "field": "tags.rpc.grpc.status_code",
                          "width": null
                        },
                        {
                          "field": "serviceName",
                          "width": 160
                        },
                        {
                          "field": "duration",
                          "width": 100
                        },
                        {
                          "field": "applicationName",
                          "width": 160
                        },
                        {
                          "field": "subsystemName",
                          "width": 150
                        }
                      ],
                      "orderBy": null,
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED"
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            }
          ],
          "options": {
            "custom": {
              "name": "HTTP Errors",
              "description": null,
              "collapsed": true,
              "color": {
                "predefined": "SECTION_PREDEFINED_COLOR_CYAN"
              },
              "repetitiveVar": null
            }
          }
        }
      ]
    },
    "variables": [
      {
        "name": "service_name",
        "definition": {
          "multiSelect": {
            "selected": [],
            "source": {
              "query": {
                "query": {
                  "logsQuery": {
                    "type": {
                      "fieldValue": {
                        "observationField": {
                          "keypath": [
                            "subsystemname"
                          ],
                          "scope": "DATASET_SCOPE_LABEL"
                        }
                      }
                    }
                  }
                },
                "refreshStrategy": "REFRESH_STRATEGY_UNSPECIFIED",
                "valueDisplayOptions": {
                  "valueRegex": null,
                  "labelRegex": null
                }
              }
            },
            "selection": {
              "all": {}
            },
            "valuesOrderDirection": "ORDER_DIRECTION_ASC",
            "selectionOptions": {
              "selectionType": "SELECTION_TYPE_MULTI_ALL"
            }
          }
        },
        "displayName": "service_name",
        "description": null,
        "displayType": "VARIABLE_DISPLAY_TYPE_UNSPECIFIED"
      }
    ],
    "filters": [],
    "relativeTimeFrame": "86400s",
    "annotations": [],
    "off": {},
    "slugName": null,
    "variablesV2": [],
    "actions": []
  }
}