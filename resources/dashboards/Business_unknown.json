{
  "id": "unknown",
  "name": "Business",
  "exported_at": "2025-12-18T07:15:42.420647",
  "data": {
    "id": "MsfFOUiQVJlhgdvdgXqtb",
    "name": "Business",
    "description": null,
    "layout": {
      "sections": [
        {
          "id": {
            "value": "ffc5ca83-faa8-4337-ab62-846e25d1d9c8"
          },
          "rows": [
            {
              "id": {
                "value": "35a1311a-28f3-4d2b-b6a3-b7a8f0f2d090"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "e2163b25-fb2a-4529-ab2d-04706476d944"
                  },
                  "title": "Total Transactions Count",
                  "description": null,
                  "definition": {
                    "gauge": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs \n| filter name == 'paymentservice-charge'\n| count into total_transaction_count"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "min": 0,
                      "max": 100,
                      "showInnerArc": false,
                      "showOuterArc": false,
                      "unit": "UNIT_NUMBER",
                      "thresholds": [
                        {
                          "from": 0,
                          "color": "var(--c-severity-log-critical)",
                          "label": null
                        }
                      ],
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "thresholdBy": "THRESHOLD_BY_VALUE",
                      "customUnit": "",
                      "decimal": 3,
                      "thresholdType": "THRESHOLD_TYPE_RELATIVE",
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "legendBy": "LEGEND_BY_GROUPS",
                      "displaySeriesName": true,
                      "decimalPrecision": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "ab1a8d33-4706-4baa-8d2b-53bcc17e374e"
                  },
                  "title": "Total Transactions / 5m",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "7ab79feb-d331-4b5a-8e3c-074ef0589e17",
                          "query": {
                            "dataprime": {
                              "dataprimeQuery": {
                                "text": "source logs \n| filter name == 'paymentservice-charge'\n// | count into total_transaction_count\n| groupby $m.timestamp / 5m as time aggregate count() as trans_count"
                              },
                              "filters": [],
                              "timeFrame": null
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_UNSPECIFIED",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query",
                          "isVisible": true,
                          "colorScheme": "blue",
                          "resolution": null,
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": null
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "97580e98-67e0-4a86-a14b-363d76d5f7b8"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "f372421e-5ddb-459d-a800-7afc5b1b126e"
                  },
                  "title": "Total Transactions per Currency [5m]",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "55e8a6c0-eb5a-4f41-af5f-bdb26d034b1f",
                          "query": {
                            "dataprime": {
                              "dataprimeQuery": {
                                "text": "source logs \n| filter pay_transaction.amount > '0.0' \n| groupby $m.timestamp / 5m as time, pay_transaction.currency as currency aggregate count() as trans_count"
                              },
                              "filters": [],
                              "timeFrame": null
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_UNSPECIFIED",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query",
                          "isVisible": true,
                          "colorScheme": "classic",
                          "resolution": null,
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": null
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "68288f72-e21b-4b04-8057-34a2f0e2d981"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "ffbbafd8-3e96-464f-9731-2126e72bc0b4"
                  },
                  "title": "Average Transaction by Curreny & Card Type per Hour",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "24eb7839-d0cc-44f5-9de8-816ae6aa5efa",
                          "query": {
                            "dataprime": {
                              "dataprimeQuery": {
                                "text": "source logs\n| filter pay_transaction.amount != null && pay_transaction.currency != null\n| multigroupby ($m.timestamp / 1h as timestamp, pay_transaction.currency as currency, pay_transaction.cc as card_type)\n    aggregate round(avg(pay_transaction.amount:num),2) as amount\n| sortby timestamp"
                              },
                              "filters": [],
                              "timeFrame": null
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_UNSPECIFIED",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query",
                          "isVisible": true,
                          "colorScheme": "blue",
                          "resolution": null,
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": null
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "0871f038-b022-4210-a520-4a5caffd6448"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "9425837d-0af2-41df-902f-b5e35e93a742"
                  },
                  "title": "# Transaction Count by Currency",
                  "description": null,
                  "definition": {
                    "dataTable": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0'\n| filter pay_transaction.currency != null\n| groupby pay_transaction.currency as currency aggregate count() as transaction_count\n| sortby transaction_count desc"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "resultsPerPage": 100,
                      "rowStyle": "ROW_STYLE_ONE_LINE",
                      "columns": [
                        {
                          "field": "$d.currency",
                          "width": null
                        },
                        {
                          "field": "$d.transaction_count",
                          "width": null
                        }
                      ],
                      "orderBy": null,
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED"
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "a103d081-e791-45dc-ba60-0c0f5fdd4cdf"
                  },
                  "title": "Credit Card Type Distribution",
                  "description": null,
                  "definition": {
                    "pieChart": {
                      "query": {
                        "logs": {
                          "luceneQuery": {
                            "value": "_exists_:pay_transaction.cc AND coralogix.metadata.subsystemName:\"paymentservice\""
                          },
                          "aggregation": {
                            "count": {}
                          },
                          "filters": [
                            {
                              "field": null,
                              "operator": {
                                "equals": {
                                  "selection": {
                                    "all": {}
                                  }
                                }
                              },
                              "observationField": {
                                "keypath": [
                                  "pay_transaction",
                                  "cc"
                                ],
                                "scope": "DATASET_SCOPE_USER_DATA"
                              }
                            }
                          ],
                          "groupNames": [],
                          "stackedGroupName": null,
                          "groupNamesFields": [
                            {
                              "keypath": [
                                "pay_transaction",
                                "cc"
                              ],
                              "scope": "DATASET_SCOPE_USER_DATA"
                            }
                          ],
                          "stackedGroupNameField": null,
                          "timeFrame": null
                        }
                      },
                      "maxSlicesPerChart": 8,
                      "minSlicePercentage": 1,
                      "stackDefinition": {
                        "maxSlicesPerStack": 4,
                        "stackNameTemplate": null
                      },
                      "labelDefinition": {
                        "labelSource": "LABEL_SOURCE_INNER",
                        "isVisible": true,
                        "showName": true,
                        "showValue": true,
                        "showPercentage": true
                      },
                      "showLegend": true,
                      "groupNameTemplate": null,
                      "unit": "UNIT_UNSPECIFIED",
                      "colorScheme": "classic",
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "customUnit": "",
                      "decimal": null,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "hashColors": false,
                      "decimalPrecision": null,
                      "showTotal": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            }
          ],
          "options": {
            "custom": {
              "name": "Transactions",
              "description": null,
              "collapsed": false,
              "color": {
                "predefined": "SECTION_PREDEFINED_COLOR_MAGENTA"
              },
              "repetitiveVar": null
            }
          }
        },
        {
          "id": {
            "value": "a08ae910-7acc-4944-a14b-b4ef93535807"
          },
          "rows": [
            {
              "id": {
                "value": "91ed3290-1906-4710-a5a0-02a66e006036"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "f0f6dc96-360e-4973-bec8-5851b23c234f"
                  },
                  "title": "Revenue Distribution by Currency",
                  "description": null,
                  "definition": {
                    "pieChart": {
                      "query": {
                        "logs": {
                          "luceneQuery": {
                            "value": "_exists_:pay_transaction.cc AND coralogix.metadata.subsystemName:\"paymentservice\""
                          },
                          "aggregation": {
                            "count": {}
                          },
                          "filters": [
                            {
                              "field": null,
                              "operator": {
                                "equals": {
                                  "selection": {
                                    "all": {}
                                  }
                                }
                              },
                              "observationField": {
                                "keypath": [
                                  "pay_transaction",
                                  "cc"
                                ],
                                "scope": "DATASET_SCOPE_USER_DATA"
                              }
                            }
                          ],
                          "groupNames": [],
                          "stackedGroupName": null,
                          "groupNamesFields": [
                            {
                              "keypath": [
                                "pay_transaction",
                                "currency"
                              ],
                              "scope": "DATASET_SCOPE_USER_DATA"
                            }
                          ],
                          "stackedGroupNameField": null,
                          "timeFrame": null
                        }
                      },
                      "maxSlicesPerChart": 8,
                      "minSlicePercentage": 1,
                      "stackDefinition": {
                        "maxSlicesPerStack": 4,
                        "stackNameTemplate": null
                      },
                      "labelDefinition": {
                        "labelSource": "LABEL_SOURCE_INNER",
                        "isVisible": true,
                        "showName": true,
                        "showValue": true,
                        "showPercentage": true
                      },
                      "showLegend": true,
                      "groupNameTemplate": null,
                      "unit": "UNIT_UNSPECIFIED",
                      "colorScheme": "classic",
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "customUnit": "",
                      "decimal": null,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "hashColors": false,
                      "decimalPrecision": null,
                      "showTotal": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "897e5cb6-6f01-4351-81f6-ec31e390ef65"
                  },
                  "title": "Revenue by Currency & Card Type [5m]",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "c8c3fb6c-d255-4531-b672-2fbd9d65ee5d",
                          "query": {
                            "metrics": {
                              "promqlQuery": {
                                "value": "sum(sum_over_time(amount{currency=~${currency}, cc=~${card_type}}[5m])) by (currency, cc)"
                              },
                              "filters": [],
                              "editorMode": "METRICS_QUERY_EDITOR_MODE_TEXT",
                              "timeFrame": null,
                              "seriesLimitType": "METRICS_SERIES_LIMIT_TYPE_BY_SERIES_COUNT"
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_UNSPECIFIED",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query 1",
                          "isVisible": true,
                          "colorScheme": "blue",
                          "resolution": {
                            "interval": "300s",
                            "bucketsPresented": null
                          },
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": null
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "ab2a57c7-59fe-4399-84ae-5017504ea72e"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "3559838f-ba9e-4b33-a193-51347072355a"
                  },
                  "title": "Total EUR Revenue",
                  "description": null,
                  "definition": {
                    "gauge": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0'\n| filter pay_transaction.currency == 'EUR'\n| groupby pay_transaction.currency as currency aggregate round(sum(pay_transaction.amount:num),2) as totalAmount"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "min": 0,
                      "max": 100,
                      "showInnerArc": false,
                      "showOuterArc": false,
                      "unit": "UNIT_NUMBER",
                      "thresholds": [
                        {
                          "from": 0,
                          "color": "var(--c-severity-log-info)",
                          "label": null
                        }
                      ],
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "thresholdBy": "THRESHOLD_BY_VALUE",
                      "customUnit": "",
                      "decimal": 3,
                      "thresholdType": "THRESHOLD_TYPE_RELATIVE",
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": false,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "legendBy": "LEGEND_BY_GROUPS",
                      "displaySeriesName": true,
                      "decimalPrecision": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "fb76487a-bc74-43b7-a29f-5e5cd642b436"
                  },
                  "title": "Total USD Revenue\u00a0\u00a0",
                  "description": null,
                  "definition": {
                    "gauge": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0'\n| filter pay_transaction.currency == 'USD'\n| groupby pay_transaction.currency as currency aggregate round(sum(pay_transaction.amount:num),2) as totalAmount"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "min": 0,
                      "max": 100,
                      "showInnerArc": false,
                      "showOuterArc": false,
                      "unit": "UNIT_NUMBER",
                      "thresholds": [
                        {
                          "from": 0,
                          "color": "var(--c-severity-log-verbose)",
                          "label": null
                        }
                      ],
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "thresholdBy": "THRESHOLD_BY_VALUE",
                      "customUnit": "",
                      "decimal": 3,
                      "thresholdType": "THRESHOLD_TYPE_RELATIVE",
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": false,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "legendBy": "LEGEND_BY_GROUPS",
                      "displaySeriesName": true,
                      "decimalPrecision": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "083916ce-fa7b-45a3-bb74-f25de1df625d"
                  },
                  "title": "Total JPY Revenue\u00a0\u00a0",
                  "description": null,
                  "definition": {
                    "gauge": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0'\n| filter pay_transaction.currency == 'JPY'\n| groupby pay_transaction.currency as currency aggregate round(sum(pay_transaction.amount:num),2) as totalAmount"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "min": 0,
                      "max": 100,
                      "showInnerArc": false,
                      "showOuterArc": false,
                      "unit": "UNIT_NUMBER",
                      "thresholds": [
                        {
                          "from": 0,
                          "color": "var(--c-severity-log-debug)",
                          "label": null
                        }
                      ],
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "thresholdBy": "THRESHOLD_BY_VALUE",
                      "customUnit": "",
                      "decimal": 3,
                      "thresholdType": "THRESHOLD_TYPE_RELATIVE",
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": false,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "legendBy": "LEGEND_BY_GROUPS",
                      "displaySeriesName": true,
                      "decimalPrecision": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "35d12d65-dee7-4b2d-8819-9638d44613ea"
                  },
                  "title": "Total CAD Revenue\u00a0\u00a0",
                  "description": null,
                  "definition": {
                    "gauge": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0'\n| filter pay_transaction.currency == 'CAD'\n| groupby pay_transaction.currency as currency aggregate round(sum(pay_transaction.amount:num),2) as totalAmount"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "min": 0,
                      "max": 100,
                      "showInnerArc": false,
                      "showOuterArc": false,
                      "unit": "UNIT_NUMBER",
                      "thresholds": [
                        {
                          "from": 0,
                          "color": "var(--c-severity-log-warning)",
                          "label": null
                        }
                      ],
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "thresholdBy": "THRESHOLD_BY_VALUE",
                      "customUnit": "",
                      "decimal": 3,
                      "thresholdType": "THRESHOLD_TYPE_RELATIVE",
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": false,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "legendBy": "LEGEND_BY_GROUPS",
                      "displaySeriesName": true,
                      "decimalPrecision": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "1782ea34-cf10-40e9-b20e-bbb405fe0087"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "d7b66c4a-9216-48d7-be09-d6a67faef702"
                  },
                  "title": "Revenue by Currency",
                  "description": null,
                  "definition": {
                    "dataTable": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0' \n| groupby pay_transaction.currency as currency aggregate round(sum(pay_transaction.amount:num),2) as totalRevenue\n| sortby totalRevenue desc"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "resultsPerPage": 100,
                      "rowStyle": "ROW_STYLE_ONE_LINE",
                      "columns": [
                        {
                          "field": "$d.currency",
                          "width": null
                        },
                        {
                          "field": "$d.totalRevenue",
                          "width": null
                        }
                      ],
                      "orderBy": null,
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED"
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "881b1115-aebf-405d-b262-0545ec93c6e1"
                  },
                  "title": "Revenue by Currency and Card Type Filters",
                  "description": null,
                  "definition": {
                    "dataTable": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0' \n| filter arrayContains($p.currency, pay_transaction.currency)\n| filter arrayContains($p.card_type, pay_transaction.cc)\n| groupby pay_transaction.currency as currency, pay_transaction.cc as card_type aggregate round(sum(pay_transaction.amount:num),2) as totalRevenue\n| orderby totalRevenue desc"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "resultsPerPage": 100,
                      "rowStyle": "ROW_STYLE_ONE_LINE",
                      "columns": [
                        {
                          "field": "$d.currency",
                          "width": null
                        },
                        {
                          "field": "$d.card_type",
                          "width": null
                        },
                        {
                          "field": "$d.totalRevenue",
                          "width": null
                        }
                      ],
                      "orderBy": null,
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED"
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "e350e9e0-4a18-4255-a60a-19e31f4bf822"
                  },
                  "title": "Revenue by Currency",
                  "description": null,
                  "definition": {
                    "barChart": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount > '0.0' \n| groupby pay_transaction.currency as currency aggregate round(sum(pay_transaction.amount:num),2) as totalAmount\n| orderby totalAmount desc"
                          },
                          "filters": [],
                          "groupNames": [
                            "currency"
                          ],
                          "stackedGroupName": null,
                          "timeFrame": null
                        }
                      },
                      "maxBarsPerChart": 24,
                      "groupNameTemplate": null,
                      "stackDefinition": {
                        "maxSlicesPerBar": 7,
                        "stackNameTemplate": null
                      },
                      "scaleType": "SCALE_TYPE_LINEAR",
                      "colorsBy": {
                        "stack": {}
                      },
                      "xAxis": {
                        "value": {}
                      },
                      "unit": "UNIT_UNSPECIFIED",
                      "sortBy": "SORT_BY_TYPE_VALUE",
                      "colorScheme": "negative",
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "barValueDisplay": "BAR_VALUE_DISPLAY_TOP",
                      "customUnit": "",
                      "decimal": 2,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": false,
                        "placement": "LEGEND_PLACEMENT_SIDE"
                      },
                      "hashColors": false,
                      "yAxisMin": null,
                      "yAxisMax": null,
                      "decimalPrecision": null
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "a2d04c3c-ad34-410c-89e0-2db295712518"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "5a52f646-b4fd-44b8-a700-85a3354df957"
                  },
                  "title": "Revenue by Currency and Card",
                  "description": null,
                  "definition": {
                    "horizontalBarChart": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter pay_transaction.amount != null\n| groupby pay_transaction.currency as currency, pay_transaction.cc as card_type aggregate round(sum(pay_transaction.amount:num),2) as totalAmount\n| orderby totalAmount desc"
                          },
                          "filters": [],
                          "groupNames": [
                            "currency",
                            "card_type"
                          ],
                          "stackedGroupName": null,
                          "timeFrame": null
                        }
                      },
                      "maxBarsPerChart": 24,
                      "groupNameTemplate": null,
                      "stackDefinition": {
                        "maxSlicesPerBar": 7,
                        "stackNameTemplate": null
                      },
                      "scaleType": "SCALE_TYPE_LINEAR",
                      "colorsBy": {
                        "stack": {}
                      },
                      "unit": "UNIT_UNSPECIFIED",
                      "displayOnBar": true,
                      "yAxisViewBy": {
                        "value": {}
                      },
                      "sortBy": "SORT_BY_TYPE_VALUE",
                      "colorScheme": "negative",
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "customUnit": "",
                      "decimal": 2,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": false,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "hashColors": false,
                      "yAxisMin": null,
                      "yAxisMax": null,
                      "decimalPrecision": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "db4f96db-ec1a-4e2f-aaef-8c80c4a08e20"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "aa51a454-9c9b-4482-b947-5d9aad58b7a5"
                  },
                  "title": "Total Revenue by Product Category",
                  "description": null,
                  "definition": {
                    "horizontalBarChart": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter $l.applicationname == 'default' && $l.subsystemname == 'frontend'\n| groupby $d.product_id_enriched.category as $d.product_category aggregate  sum($d.product_id_enriched.price_in_currency:num) as totalRevenue\n| filter $d.product_category != null\n| sortby totalRevenue desc "
                          },
                          "filters": [],
                          "groupNames": [
                            "product_category"
                          ],
                          "stackedGroupName": null,
                          "timeFrame": null
                        }
                      },
                      "maxBarsPerChart": 24,
                      "groupNameTemplate": null,
                      "stackDefinition": {
                        "maxSlicesPerBar": 7,
                        "stackNameTemplate": null
                      },
                      "scaleType": "SCALE_TYPE_LINEAR",
                      "colorsBy": {
                        "aggregation": {}
                      },
                      "unit": "UNIT_UNSPECIFIED",
                      "displayOnBar": true,
                      "yAxisViewBy": {
                        "value": {}
                      },
                      "sortBy": "SORT_BY_TYPE_VALUE",
                      "colorScheme": "classic",
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "customUnit": "",
                      "decimal": 2,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "hashColors": false,
                      "yAxisMin": null,
                      "yAxisMax": null,
                      "decimalPrecision": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "ed4f699a-fd31-4673-a7c6-440f54a094d3"
                  },
                  "title": "Total Revenue by Product Category",
                  "description": null,
                  "definition": {
                    "pieChart": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source logs\n| filter $l.applicationname == 'default' && $l.subsystemname == 'frontend'\n| groupby $d.product_id_enriched.category as $d.product_category aggregate  sum($d.product_id_enriched.price_in_currency:num) as totalRevenue\n| filter $d.product_category != null\n| sortby totalRevenue desc "
                          },
                          "filters": [],
                          "groupNames": [
                            "product_category"
                          ],
                          "stackedGroupName": null,
                          "timeFrame": null
                        }
                      },
                      "maxSlicesPerChart": 8,
                      "minSlicePercentage": 1,
                      "stackDefinition": {
                        "maxSlicesPerStack": 4,
                        "stackNameTemplate": null
                      },
                      "labelDefinition": {
                        "labelSource": "LABEL_SOURCE_INNER",
                        "isVisible": true,
                        "showName": true,
                        "showValue": true,
                        "showPercentage": true
                      },
                      "showLegend": true,
                      "groupNameTemplate": null,
                      "unit": "UNIT_UNSPECIFIED",
                      "colorScheme": "classic",
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                      "customUnit": "",
                      "decimal": null,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": false,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "hashColors": false,
                      "decimalPrecision": null,
                      "showTotal": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "faded6b2-edb5-4828-b491-ba4cd304ea66"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "2c4755b0-c1d5-4b71-9aac-e7b737590e50"
                  },
                  "title": "Payments, Average Deal Size (Unification to $) and Calculate \u201cLost\u201d Income on an Hourly Basis",
                  "description": null,
                  "definition": {
                    "lineChart": {
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "tooltip": {
                        "showLabels": false,
                        "type": "TOOLTIP_TYPE_ALL"
                      },
                      "queryDefinitions": [
                        {
                          "id": "c5d7d00a-8f7c-4484-b646-7612e2f03911",
                          "query": {
                            "dataprime": {
                              "dataprimeQuery": {
                                "text": "source logs\n| filter $l.subsystemname == 'paymentservice'\n| filter body ~ 'InvalidCreditCard' || pay_transaction.amount:num > 0\n| create Trans_usd from\n\t\tcase_equals {\n\t\t\tpay_transaction.currency,\n\t\t\t'USD' -> pay_transaction.amount:num * 1,\n\t\t\t'EUR' -> pay_transaction.amount:num * 1.04,\n\t\t\t'JPY' -> pay_transaction.amount:num * 0.0066,\n\t\t\t'CAD' -> pay_transaction.amount:num * 0.69}\n| groupby $m.timestamp / 1h as Time aggregate\n\t\tcount_if($m.severity != ERROR) as Successfull_Transactions,\n\t\tcount_if(body ~ 'InvalidCreditCard') as Err_Transactions,\n\t\t`${round(sum(Trans_usd),2)}` as Total_Revenue,\n\t\tround(avg(Trans_usd),2) as Avg_Revenue\n| create Lost_Revenue from `${round(Avg_Revenue*Err_Transactions,2)}`\n| orderby Time"
                              },
                              "filters": [],
                              "timeFrame": null
                            }
                          },
                          "seriesNameTemplate": null,
                          "seriesCountLimit": "20",
                          "unit": "UNIT_UNSPECIFIED",
                          "scaleType": "SCALE_TYPE_LINEAR",
                          "name": "Query",
                          "isVisible": true,
                          "colorScheme": "cold",
                          "resolution": null,
                          "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED",
                          "customUnit": "",
                          "decimal": 2,
                          "hashColors": false,
                          "yAxisMin": null,
                          "yAxisMax": null,
                          "decimalPrecision": null
                        }
                      ],
                      "stackedLine": "STACKED_LINE_UNSPECIFIED",
                      "connectNulls": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            }
          ],
          "options": {
            "custom": {
              "name": "Revenues",
              "description": null,
              "collapsed": false,
              "color": {
                "predefined": "SECTION_PREDEFINED_COLOR_GREEN"
              },
              "repetitiveVar": null
            }
          }
        }
      ]
    },
    "variables": [],
    "filters": [],
    "relativeTimeFrame": "21600s",
    "folderId": {
      "value": "e77f1630-03d1-4aa1-8124-ca77322a2c2a"
    },
    "annotations": [],
    "off": {},
    "slugName": null,
    "variablesV2": [
      {
        "name": "currency",
        "displayName": "currency",
        "description": null,
        "displayType": "VARIABLE_DISPLAY_TYPE_V2_LABEL_VALUE",
        "source": {
          "query": {
            "logsQuery": {
              "type": {
                "fieldValue": {
                  "observationField": {
                    "keypath": [
                      "pay_transaction",
                      "currency"
                    ],
                    "scope": "DATASET_SCOPE_USER_DATA"
                  }
                }
              }
            },
            "valuesOrderDirection": "ORDER_DIRECTION_ASC",
            "refreshStrategy": "REFRESH_STRATEGY_UNSPECIFIED",
            "valueDisplayOptions": {
              "valueRegex": null,
              "labelRegex": null
            },
            "allOption": {
              "includeAll": true,
              "label": null
            }
          }
        },
        "value": {
          "multiString": {
            "list": {
              "values": [
                {
                  "value": {
                    "value": "CAD",
                    "label": null
                  }
                }
              ]
            }
          }
        },
        "displayFullRow": false
      },
      {
        "name": "card_type",
        "displayName": "Card Type",
        "description": null,
        "displayType": "VARIABLE_DISPLAY_TYPE_V2_LABEL_VALUE",
        "source": {
          "query": {
            "logsQuery": {
              "type": {
                "fieldValue": {
                  "observationField": {
                    "keypath": [
                      "pay_transaction",
                      "cc"
                    ],
                    "scope": "DATASET_SCOPE_USER_DATA"
                  }
                }
              }
            },
            "valuesOrderDirection": "ORDER_DIRECTION_ASC",
            "refreshStrategy": "REFRESH_STRATEGY_UNSPECIFIED",
            "valueDisplayOptions": {
              "valueRegex": null,
              "labelRegex": null
            },
            "allOption": {
              "includeAll": true,
              "label": null
            }
          }
        },
        "value": {
          "multiString": {
            "list": {
              "values": [
                {
                  "value": {
                    "value": "visa",
                    "label": null
                  }
                }
              ]
            }
          }
        },
        "displayFullRow": false
      }
    ],
    "actions": [],
    "_source_folder_name": "Avi"
  }
}