{
  "id": "unknown",
  "name": "Unified Dashboard (WIP)",
  "exported_at": "2025-12-18T07:15:42.632664",
  "data": {
    "id": "4qc7Ahset2cZxcRTpwR7m",
    "name": "Unified Dashboard (WIP)",
    "description": null,
    "layout": {
      "sections": [
        {
          "id": {
            "value": "c42c99c2-d92e-4706-bf65-cdeb1950804c"
          },
          "rows": [
            {
              "id": {
                "value": "259dfcae-8755-42b4-86e0-c63f445d15f3"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "ce3df5a7-210e-42b7-b89b-d258101d207f"
                  },
                  "title": "API Response Time (ms)_servicewise",
                  "description": null,
                  "definition": {
                    "dataTable": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source spans \n| filter $p.servicename.arrayContains($l.serviceName)\n| filter tags['span.kind'] == 'server' || tags['span.kind'] == 'consumer'\n// | lucene '_exists_:tags.http.response.status_code AND _exists_:tags.http.route'\n| groupby $l.serviceName, $l.operationName \naggregate `{(percentile(0.99, $m.duration, 0.5)/1000).round(2)} ms` as P99, \n    `{(percentile(0.95, $m.duration, 0.5)/1000).round(2)} ms` as P95,  \n    `{(percentile(0.90, $m.duration, 0.5)/1000).round(2)} ms` as P90,  \n    `{(percentile(0.75, $m.duration,0.5)/1000).round(2)} ms` as P75,\n    `{(percentile(0.50, $m.duration, 0.5)/1000).round(2)} ms` as P50,\n    `{avg(($m.duration)/1000).round(2)} ms` as Avg"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "resultsPerPage": 100,
                      "rowStyle": "ROW_STYLE_ONE_LINE",
                      "columns": [
                        {
                          "field": "$d.serviceName",
                          "width": null
                        },
                        {
                          "field": "$d.operationName",
                          "width": 493
                        },
                        {
                          "field": "$d.P99",
                          "width": 200
                        },
                        {
                          "field": "$d.P95",
                          "width": 200
                        },
                        {
                          "field": "$d.P90",
                          "width": 200
                        },
                        {
                          "field": "$d.P75",
                          "width": 200
                        },
                        {
                          "field": "$d.P50",
                          "width": 200
                        },
                        {
                          "field": "$d.Avg",
                          "width": null
                        }
                      ],
                      "orderBy": null,
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED"
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "91046505-53fe-49ef-89f7-a79adb5c70fa"
              },
              "appearance": {
                "height": 19
              },
              "widgets": [
                {
                  "id": {
                    "value": "dfa82155-c41d-412e-a85a-1ccbf2f64cb0"
                  },
                  "title": "External Services Response Time (ms)",
                  "description": null,
                  "definition": {
                    "dataTable": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source spans \n| filter $p.servicename.arrayContains($l.serviceName)\n| filter tags['span.kind'] == 'client' || tags['span.kind'] == 'producer'\n// | lucene '_exists_:tags.http.response.status_code AND _exists_:tags.http.route'\n| groupby $l.serviceName, $l.operationName as ExternalService\naggregate `{(percentile(0.99, $m.duration, 0.5)/1000).round(2)} ms` as P99, \n    `{(percentile(0.95, $m.duration, 0.5)/1000).round(2)} ms` as P95,  \n    `{(percentile(0.90, $m.duration, 0.5)/1000).round(2)} ms` as P90,  \n    `{(percentile(0.75, $m.duration,0.5)/1000).round(2)} ms` as P75,\n    `{(percentile(0.50, $m.duration, 0.5)/1000).round(2)} ms` as P50,\n    `{avg(($m.duration)/1000).round(2)} ms` as Avg"
                          },
                          "filters": [],
                          "timeFrame": null
                        }
                      },
                      "resultsPerPage": 100,
                      "rowStyle": "ROW_STYLE_ONE_LINE",
                      "columns": [
                        {
                          "field": "$d.serviceName",
                          "width": 206
                        },
                        {
                          "field": "$d.ExternalService",
                          "width": 436
                        },
                        {
                          "field": "$d.P99",
                          "width": 200
                        },
                        {
                          "field": "$d.P95",
                          "width": 200
                        },
                        {
                          "field": "$d.P90",
                          "width": 200
                        },
                        {
                          "field": "$d.P75",
                          "width": 200
                        },
                        {
                          "field": "$d.P50",
                          "width": 200
                        },
                        {
                          "field": "$d.Avg",
                          "width": 200
                        }
                      ],
                      "orderBy": null,
                      "dataModeType": "DATA_MODE_TYPE_HIGH_UNSPECIFIED"
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            },
            {
              "id": {
                "value": "9a1a0438-36a4-47d6-a9af-d66cd1264723"
              },
              "appearance": {
                "height": 36
              },
              "widgets": [
                {
                  "id": {
                    "value": "b2018eaf-3350-4c62-bdba-56a319c86fca"
                  },
                  "title": "Externals Service response time",
                  "description": null,
                  "definition": {
                    "horizontalBarChart": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source spans\n| filter $p.servicename.arrayContains($l.serviceName)\n| filter tags['span.kind'] == 'client' || tags['span.kind'] == 'producer'\n| choose $l.serviceName as Service, traceID as Trace, spanID as Calling, $m.duration\n| join (\n    source spans \n    | filter tags['span.kind'] == 'server'\n    | choose $l.serviceName as Destination, traceID as Trace, parentId as Caller\n) on (left => $d.Trace == right => $d.Trace && left => Calling == right => Caller) into Dest\n| filter Dest.Destination != null \n| groupby Service, Dest.Destination as Destination\naggregate (percentile(0.99, $m.duration, 0.5)/1000).round(2) as P99\n\n| union (\n\n  source spans\n  | filter $p.servicename.arrayContains($l.serviceName)\n  | filter tags['span.kind'] == 'client' || tags['span.kind'] == 'producer'\n  | lucene 'NOT _exists_:tags.http.response.status_code AND NOT _exists_:tags.http.route'\n  | groupby $l.serviceName as Service, $l.operationName as DestinationFallback\n  aggregate (percentile(0.99, $m.duration)/1000).round(2) as P99\n  | choose Service, DestinationFallback as Destination, P99\n)\n"
                          },
                          "filters": [],
                          "groupNames": [
                            "Service",
                            "Destination"
                          ],
                          "stackedGroupName": null,
                          "timeFrame": null
                        }
                      },
                      "maxBarsPerChart": 24,
                      "groupNameTemplate": null,
                      "stackDefinition": {
                        "maxSlicesPerBar": 7,
                        "stackNameTemplate": null
                      },
                      "scaleType": "SCALE_TYPE_LINEAR",
                      "colorsBy": {
                        "stack": {}
                      },
                      "unit": "UNIT_MILLISECONDS",
                      "displayOnBar": true,
                      "yAxisViewBy": {
                        "value": {}
                      },
                      "sortBy": "SORT_BY_TYPE_VALUE",
                      "colorScheme": "classic",
                      "dataModeType": "DATA_MODE_TYPE_ARCHIVE",
                      "customUnit": "",
                      "decimal": 2,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "hashColors": false,
                      "yAxisMin": null,
                      "yAxisMax": null,
                      "decimalPrecision": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                },
                {
                  "id": {
                    "value": "d49afdd5-2ee4-434f-b8ce-b87490b1a4db"
                  },
                  "title": "Total number of requests",
                  "description": null,
                  "definition": {
                    "horizontalBarChart": {
                      "query": {
                        "dataprime": {
                          "dataprimeQuery": {
                            "text": "source spans\n| filter $p.servicename.arrayContains($l.serviceName)\n| filter tags['span.kind'] == 'client' || tags['span.kind'] == 'producer'\n| choose $l.serviceName as Service, traceID as Trace, spanID as Calling, $m.duration\n| join (\n    source spans \n    | filter tags['span.kind'] == 'server'\n    | choose $l.serviceName as Destination, traceID as Trace, parentId as Caller\n) on (left => $d.Trace == right => $d.Trace && left => Calling == right => Caller) into Dest\n| filter Dest.Destination != null \n| groupby Service, Dest.Destination as Destination\naggregate \n    count() as TotalRequests\n\n| union (\n\n  source spans\n  | filter $p.servicename.arrayContains($l.serviceName)\n  | filter tags['span.kind'] == 'client' || tags['span.kind'] == 'producer'\n  | lucene 'NOT _exists_:tags.http.response.status_code AND NOT _exists_:tags.http.route'\n  | groupby $l.serviceName as Service, $l.operationName as DestinationFallback\n  aggregate \n      count() as TotalRequests\n  | choose Service, DestinationFallback as Destination, TotalRequests\n)\n"
                          },
                          "filters": [],
                          "groupNames": [
                            "Service",
                            "Destination"
                          ],
                          "stackedGroupName": null,
                          "timeFrame": null
                        }
                      },
                      "maxBarsPerChart": 24,
                      "groupNameTemplate": null,
                      "stackDefinition": {
                        "maxSlicesPerBar": 7,
                        "stackNameTemplate": null
                      },
                      "scaleType": "SCALE_TYPE_LINEAR",
                      "colorsBy": {
                        "stack": {}
                      },
                      "unit": "UNIT_UNSPECIFIED",
                      "displayOnBar": true,
                      "yAxisViewBy": {
                        "value": {}
                      },
                      "sortBy": "SORT_BY_TYPE_VALUE",
                      "colorScheme": "classic",
                      "dataModeType": "DATA_MODE_TYPE_ARCHIVE",
                      "customUnit": "",
                      "decimal": 2,
                      "legend": {
                        "isVisible": true,
                        "columns": [],
                        "groupByQuery": true,
                        "placement": "LEGEND_PLACEMENT_AUTO"
                      },
                      "hashColors": false,
                      "yAxisMin": null,
                      "yAxisMax": null,
                      "decimalPrecision": false
                    }
                  },
                  "appearance": null,
                  "createdAt": null,
                  "updatedAt": null
                }
              ]
            }
          ],
          "options": {
            "internal": {}
          }
        }
      ]
    },
    "variables": [],
    "filters": [],
    "relativeTimeFrame": "3600s",
    "folderId": {
      "value": "7c62c370-8f5d-41d3-be09-ff4917603aeb"
    },
    "annotations": [],
    "off": {},
    "slugName": null,
    "variablesV2": [
      {
        "name": "servicename",
        "displayName": "servicename",
        "description": null,
        "displayType": "VARIABLE_DISPLAY_TYPE_V2_LABEL_VALUE",
        "source": {
          "query": {
            "spansQuery": {
              "type": {
                "fieldValue": {
                  "value": null,
                  "observationField": {
                    "keypath": [
                      "servicename"
                    ],
                    "scope": "DATASET_SCOPE_LABEL"
                  }
                }
              }
            },
            "valuesOrderDirection": "ORDER_DIRECTION_ASC",
            "refreshStrategy": "REFRESH_STRATEGY_UNSPECIFIED",
            "valueDisplayOptions": {
              "valueRegex": null,
              "labelRegex": null
            },
            "allOption": {
              "includeAll": true,
              "label": null
            }
          }
        },
        "value": {
          "multiString": {
            "list": {
              "values": [
                {
                  "value": {
                    "value": "checkoutservice",
                    "label": "checkoutservice"
                  }
                }
              ]
            }
          }
        },
        "displayFullRow": false
      },
      {
        "name": "spankind",
        "displayName": "spankind",
        "description": null,
        "displayType": "VARIABLE_DISPLAY_TYPE_V2_LABEL_VALUE",
        "source": {
          "query": {
            "spansQuery": {
              "type": {
                "fieldValue": {
                  "value": null,
                  "observationField": {
                    "keypath": [
                      "tags",
                      "span.kind"
                    ],
                    "scope": "DATASET_SCOPE_USER_DATA"
                  }
                }
              }
            },
            "valuesOrderDirection": "ORDER_DIRECTION_ASC",
            "refreshStrategy": "REFRESH_STRATEGY_UNSPECIFIED",
            "valueDisplayOptions": {
              "valueRegex": null,
              "labelRegex": null
            },
            "allOption": {
              "includeAll": true,
              "label": null
            }
          }
        },
        "value": {
          "multiString": {
            "all": {}
          }
        },
        "displayFullRow": false
      }
    ],
    "actions": [],
    "_source_folder_name": "Sid's"
  }
}